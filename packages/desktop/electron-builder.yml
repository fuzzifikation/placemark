appId: com.placemark.desktop
productName: Placemark
directories:
  buildResources: build
  output: release
icon: ../../icon.png
electronLanguages:
  - en-US
files:
  - dist/**/*
  - dist-electron/**/*
  - build/icon.png
  - package.json
  # Sharp: only include win32-x64 platform binary (explicitly added as dependency)
  - '!node_modules/@img/sharp-{darwin,linux,linuxmusl,wasm32}*/**'
  - '!node_modules/@img/sharp-win32-{arm64,ia32}*/**'
  - '!node_modules/@img/sharp-libvips-*/**'
  # better-sqlite3: keep only lib/binding/*.node, exclude build artifacts
  - '!node_modules/better-sqlite3/build/**'
  - '!node_modules/better-sqlite3/deps/**'
  - '!node_modules/better-sqlite3/src/**'
win:
  target:
    - target: portable
      arch: [x64]
  signAndEditExecutable: false
portable:
  artifactName: '${productName}-${version}-portable.exe'
  splashImage: build/splash.bmp
mac:
  target:
    - dmg
linux:
  target:
    - AppImage
